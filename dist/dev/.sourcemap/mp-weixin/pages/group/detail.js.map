{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/group/detail.vue?f4a7","webpack:///./src/pages/group/detail.vue?7ae2","webpack:///./src/pages/group/detail.vue?fadd","webpack:///./src/pages/group/detail.vue?246b","uni-app:///src/pages/group/detail.vue","webpack:///./src/pages/group/detail.vue?4a4e"],"names":["createPage","Page","component","renderjs","options","__file","components","uCountDown","e","message","indexOf","console","error","render","_h","this","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,kB,mDAEAA,EADA,yCACWC,U;;;;2DCHX,2YASIC,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,yBACZ,UAAAH,E;;;;2GCvBf,y0B;;;;2GCAA,IAAII,EAAJ,kLACA,IACEA,EAAa,CACXC,WAAY,WACV,OAAO,+NAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IACIC,EADMC,KACGC,eADHD,KAEGE,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBP,EAAOQ,eAAgB,G;;;;2DCjCvB,ojBAAsf,YAAG,G;;;;0ICiHzf,I,EAAA,G,EAAA,uC,iCACA,CACE,KADF,WAEI,MAAJ,CACM,GAAN,GACM,QAAN,KACM,QAAN,0CACM,QAAN,4CACM,WAAN,GACM,MAAN,EACM,KAAN,4CAGE,OAZF,SAYA,GACA,IACM,KAAN,UAGE,QAjBF,WAiBI,IAAJ,OACA,GACM,GAAN,SAEI,EAAJ,6BACA,YACM,GAAN,YACQ,EAAR,iBACQ,EAAR,0CACQ,IAAR,kCACA,iBACY,EAAZ,uBAIQ,EAAR,yFACQ,EAAR,QAEM,QAAN,UAIE,QAAF,CACI,MADJ,SACA,GAGQ,GADR,EACA,4HAEA,yHAFA,8CAIM,EAAN,YAAQ,IAAR,gCAEI,QAVJ,SAUA,GACM,GAAN,gCACQ,OAAR,wBAEA,0IACM,EAAN,YAAQ,IAAR,iCAGE,kBAAF,YACI,IAAJ,OAuBI,MArBJ,CACM,MAAN,sBACM,KAAN,qDACM,SAAN,oBACM,QAAN,YAEA,gCACU,EAAV,gBAGM,KAAN,YAEA,wCAEU,EAAV,eACA,kCAEU,EAAV,mB;;;;2DC/LA,m5BAA81B,YAAG,G","file":"pages/group/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/group/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=54dbc25a&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/group/detail.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=54dbc25a&\"","var components\ntry {\n  components = {\n    uCountDown: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-count-down/u-count-down\" */ \"uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"group_detail\" v-if=\"flag\">\n        <div class=\"swipe_box\">\n            <swiper\n                    class=\"swiper-box\"\n                    :autoplay=\"false\"\n                    circular=\"true\"\n                    indicatorDots=\"true\"\n                    indicator-active-color=\"#fcf6f3\"\n                >\n                    <swiper-item\n                        v-for=\"(item, index) in swiperList\"\n                        :key=\"index\"\n                    >\n                        <view class=\"swiper-item\">\n                            <image\n                                :src=\"item\"\n                                class=\"swiper-item_img\"\n                                mode=\"widthFix\"\n                            />\n                        </view>\n                    </swiper-item>\n                </swiper>\n        </div>\n        <div class=\"info_box\" :style=\"'background-image:url('+ ptBg + ')'\">\n            <div class=\"info_top\">\n                <div class=\"it_left\">\n                    <span>¥</span>\n                    <span>{{details.group.price}}</span>\n                    <span>¥{{details.group.origPrice}}</span>\n                </div>\n                <div class=\"it_right\">\n                    <image style=\"width:30rpx;height:30rpx\" :src=\"timeImg\"></image>\n                    <span>距离拼团结束还剩:</span>\n                </div>\n            </div>\n            <div class=\"info_top\">\n                <div class=\"it_left\">\n                    <image class=\"u-m-r-10\" style=\"width:20rpx;height:20rpx\" :src=\"userImg\"></image>\n                    <span style=\"font-size:28rpx\">{{details.group.tuanNumber}}人团</span>\n                    <span style=\"text-decoration: none;\">已拼{{details.group.sellNumber}}件</span>\n                </div>\n                <div class=\"it_right\">\n                    <u-count-down\n                        :timestamp=\"details.group.cha\"\n                        :show-days=\"true\"\n                        separator=\"zh\"\n                        font-size=\"26\"\n                        separator-color=\"#ffffff\"\n                        bg-color=\"#00000000\"\n                        color=\"#ffffff\"\n                        :show-hours=\"true\">\n                    </u-count-down>\n                </div>\n            </div>\n        </div>\n        <div class=\"title\">\n            <div>{{details.group.title}}</div>\n            <div>{{details.group.subtitle}}</div>\n        </div>\n        <div class=\"group_list\" v-if=\"details.group.groupUserList.length\">\n            <div class=\"list_title\">{{details.group.groupUserList.length}}人开团，可直接参与</div>\n            <scroll-view\n                scroll-y=\"true\" class=\"scroll\"\n            >\n                <view v-for=\"(item, index) in details.group.groupUserList\"\n                      :key=\"index\"\n                      class=\"scroll-view-item\">\n                      <div class=\"left\">\n                          <image mode=\"widthFix\" :src=\"item.headImg\"></image>\n                          <div>\n                              {{item.userName}}\n                          </div>\n                      </div>\n                      <div class=\"right\">\n                          <div class=\"time\">\n                              <div>还差<span style=\"color:#ff2724\">{{item.chaNumber}}人</span>成团</div>\n                              <div>\n                                  <span>剩余时间</span>\n                                  <u-count-down\n                                    :timestamp=\"item.cha\"\n                                    :show-days=\"true\"\n                                    font-size=\"24\"\n                                    separator-color=\"#ff2724\"\n                                    bg-color=\"#00000000\"\n                                    color=\"#ff2724\"\n                                    :show-hours=\"true\">\n                                </u-count-down>\n                              </div>\n                          </div>\n                          <div class=\"btn_box\" @click=\"toGroup(item)\">去拼团</div>\n                      </div>\n                </view>\n            </scroll-view>\n        </div>\n        <div class=\"content\">\n            <div class=\"content_title\">商品详情</div>\n            <div class=\"content_container\" v-html=\"details.group.content\"></div>\n        </div>\n        <div class=\"fix_box\">\n            <div class=\"solo_pay\" @click=\"toPay(true)\">\n                <span>¥{{details.group.origPrice}}</span>\n                <span>单独支付</span>\n            </div>\n            <div class=\"group_pay\" @click=\"toPay(false)\">\n                <span>¥{{details.group.price}}</span>\n                <span>发起拼团</span>\n            </div>\n        </div>\n    </div>\n    <div v-else></div>\n</template>\n<script>\nimport api from '@/services/api.group.js';\nexport default {\n    data() {\n        return {\n            id: '',\n            details: null,\n            timeImg: require('@/static/imgs/group/time.png'),\n            userImg: require('@/static/imgs/group/renshu.png'),\n            swiperList: [],\n            flag: false,\n            ptBg: require('@/static/imgs/group/ptBg.png')\n        };\n    },\n    onLoad(e) {\n        if (e) {\n            this.id = e.id;\n        }\n    },\n    mounted() {\n        let data = {\n            id: this.id\n        };\n        api.getGroupInfo(data).then(\n            res => {\n                if (res.code === 1) {\n                    this.details = res.retObj;\n                    this.swiperList = res.retObj.group.imgs.split(',');\n                    for (let i = 0; i < this.swiperList.length; i++) {\n                        if (!this.swiperList[i]) {\n                            this.swiperList.splice(i, 1);\n                        }\n                    }\n                    // eslint-disable-next-line no-useless-escape\n                    this.details.group.content = this.details.group.content.replace(/\\<img/gi, '<img class=\"rich-img\"');\n                    this.flag = true;\n                }\n                console.log(res);\n            }\n        );\n    },\n    methods: {\n        toPay(e) {\n            let data;\n            if (e) {\n                data = `?orderId=${0}&groupId=${this.details.group.id}&type=${1}&price=${this.details.group.origPrice}&title=${this.details.group.title}&number=${1}`;\n            } else {\n                data = `?orderId=${0}&groupId=${this.details.group.id}&type=${2}&price=${this.details.group.price}&title=${this.details.group.title}&number=${1}`;\n            }\n            uni.navigateTo({ url: `/pages/group/pay${data}` });\n        },\n        toGroup(e) {\n            if (e.uid === uni.getStorageSync('uid')) {\n                return this.$toast('不能拼自己的团哟');\n            }\n            let data = `?orderId=${e.orderId}&groupId=${e.groupId}&type=${3}&price=${e.price}&title=${e.title}&number=${1}`;\n            uni.navigateTo({ url: `/pages/group/pay${data}` });\n        }\n    },\n    onShareAppMessage: function(options) {\n        var that = this;\n        // 设置菜单中的转发按钮触发转发事件时的转发内容\n        var shareObj = {\n            title: that.details.group.title, // 默认是小程序的名称(可以写slogan等)\n            path: `/pages/group/detail?id=${that.details.group.id}`, // 默认是当前页面，必须是以‘/’开头的完整路径\n            imageUrl: that.details.group.img, // 自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径，支持PNG及JPG，不传入 imageUrl 则使用默认截图。显示图片长宽比是 5:4\n            success: function(res) {\n                // 转发成功之后的回调\n                if (res.errMsg == 'shareAppMessage:ok') {\n                    that.$toast('分享成功');\n                }\n            },\n            fail: function(res) {\n                // 转发失败之后的回调\n                if (res.errMsg == 'shareAppMessage:fail cancel') {\n                    // 用户取消转发\n                    that.$toast('取消分享');\n                } else if (res.errMsg == 'shareAppMessage:fail') {\n                    // 转发失败，其中 detail message 为详细失败信息\n                    that.$toast('分享失败');\n                }\n            }\n        };\n        return shareObj;\n    }\n};\n</script>\n<style lang=\"less\">\npage{\n    background: #f5f5f5;\n}\n.group_detail{\n    .swipe_box{\n        .swiper-box{\n            height: 760rpx !important;\n            .swiper-item{\n                height: 100%;\n                .swiper-item_img{\n                    width: 100% !important;\n                    height: 100% !important;\n                }\n            }\n        }\n    }\n    .info_box{\n        background-position: center;\n        background-size: cover;\n        background-repeat: no-repeat;\n        padding: 18rpx;\n        color: #ffffff;\n        .info_top{\n            display: flex;\n            justify-content: space-between;\n            .it_left{\n                :nth-child(2){\n                    font-size: 36rpx;\n                    padding-right: 20rpx;\n                }\n                :nth-child(3){\n                    font-size: 26rpx;\n                    text-decoration: line-through;\n                }\n            }\n            .it_right{\n                display: flex;\n                font-size: 26rpx;\n                align-items: center;\n                image{\n                    padding-right: 10rpx;\n                }\n            }\n        }\n    }\n    .title{\n        font-size: 30rpx;\n        padding: 40rpx 18rpx;\n        background: #ffffff;\n        :nth-child(2){\n            color: #999999;\n            font-size: 24rpx;\n        }\n    }\n    .group_list{\n        max-height: 480rpx;\n        background: #ffffff;\n        margin-top: 20rpx;\n        padding-bottom: 50rpx;\n        .list_title{\n            padding: 30rpx 0 10rpx 30rpx;\n            font-size: 30rpx;\n            color: #333333;\n        }\n        .scroll{\n            max-height: 470rpx;\n            background: #ffffff;\n            .scroll-view-item{\n                display: flex;\n                padding:20rpx 30rpx 0 30rpx;\n                align-items: center;\n                justify-content: space-between;\n                .left{\n                    display: flex;\n                    align-items: center;\n                    image{\n                        width: 110rpx;\n                        border-radius: 100%;\n                        margin-right: 20rpx;\n                    }\n                    div{\n                        width: 120rpx;\n                        overflow: hidden;\n                        text-overflow:ellipsis;\n                        white-space: nowrap;\n                        // text-emphasis:\n                    }\n                }\n                .right{\n                    display: flex;\n                    align-items: center;\n                    .time{\n                        margin-right: 20rpx;\n                        div,span{\n                            font-size: 22rpx;\n                        }\n                    }\n                    .btn_box{\n                        background: #ff2724;\n                        padding: 10rpx 20rpx;\n                        border-radius: 40rpx;\n                        font-size: 24rpx;\n                        color: #ffffff;\n                    }\n                }\n            }\n        }\n    }\n    .content{\n        padding: 30rpx 18rpx;\n        background: #ffffff;\n        margin-top: 20rpx;\n        padding-bottom: calc(120rpx + env(safe-area-inset-bottom));\n        /deep/ img{\n            width: 100% !important;\n        }\n        .content_title{\n            font-size: 32rpx;\n            color: #333333;\n            padding-bottom: 35rpx;\n        }\n        .content_container{\n            .rich-img{\n                width: 100% !important;\n            }\n        }\n    }\n    .fix_box{\n        position: fixed;\n        left: 0;\n        bottom: 0;\n        width: 100%;\n        height: 100rpx;\n        display: flex;\n        div{\n            flex: 50%;\n            color: #ffffff;\n            font-size: 28rpx;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .solo_pay{\n            background: #FF6F8A;\n        }\n        .group_pay{\n            background: #FF003B;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}