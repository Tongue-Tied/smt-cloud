{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/index/shop/shop-list.vue?12af","webpack:///./src/pages/index/shop/shop-list.vue?2a7d","webpack:///./src/pages/index/shop/shop-list.vue?ecfa","webpack:///./src/pages/index/shop/shop-list.vue?c2d5","uni-app:///src/pages/index/shop/shop-list.vue","webpack:///./src/pages/index/shop/shop-list.vue?f0c9"],"names":["createPage","Page","component","renderjs","options","__file","components","uIcon","uLoadmore","e","message","indexOf","console","error","render","_h","this","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,kB,mDAEAA,EADA,iDACWC,U;;;;2DCHX,uZASIC,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,iCACZ,UAAAH,E;;;;2GCvBf,81B;;;;2GCAA,IAAII,EAAJ,kLACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,0LAITC,UAAW,WACT,OAAO,mNAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IACIC,EADMC,KACGC,eADHD,KAEGE,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBP,EAAOQ,eAAgB,G;;;;2DCtCvB,skBAAwgB,YAAG,G;;;;4OCmC3gB,yCACA,0C,kLACA,CACE,KADF,WAEI,MAAJ,CACM,UAAN,GACM,KAAN,EACM,SAAN,EACM,OAAN,WACM,SAAN,SACM,SAAN,CACQ,SAAR,OACQ,QAAR,QACQ,OAAR,SAEM,MAAN,mDACM,UAAN,4CACM,YAAN,OAGE,OAlBF,WAmBI,KAAJ,gBAEE,QArBF,WAqBI,IAAJ,OACI,EAAJ,yBAAM,KAAN,SACA,YACA,aACQ,EAAR,sBAEM,QAAN,UAIE,QAAF,CACI,KADJ,WAEM,EAAN,cACQ,MAAR,KAII,aAPJ,WAOM,IAAN,OACM,KAAN,QACM,KAAN,gBACM,IAAN,GACQ,KAAR,UACQ,SAAR,cACQ,UAAR,GAEM,EAAN,6BACA,YACQ,OAAR,uCACU,EAAV,iBAIA,yBACU,EAAV,iBAEQ,EAAR,mDANU,EAAV,kBASA,cACQ,EAAR,KACQ,EAAR,oBAII,YAlCJ,SAkCA,GACM,EAAN,YAAQ,IAAR,oEAEI,UArCJ,WAsCM,EAAN,YAAQ,IAAR,uCAGE,kBAxEF,WAwEI,I,EAAJ,OAAI,O,EAAJ,kGAEA,SACA,eACA,iBACA,oDALA,wC,2KAAA,IAYE,cApFF,WAqFI,KAAJ,gBAEE,kBAAF,YAII,OAHJ,OAGA,CACM,MAAN,uBACM,SAAN,sBACM,KAAN,uB;;;;2DCnIA,i7BAA43B,YAAG,G","file":"pages/index/shop/shop-list.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/shop/shop-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shop-list.vue?vue&type=template&id=34a20f92&\"\nvar renderjs\nimport script from \"./shop-list.vue?vue&type=script&lang=js&\"\nexport * from \"./shop-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shop-list.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/shop/shop-list.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop-list.vue?vue&type=template&id=34a20f92&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-loadmore/u-loadmore\" */ \"uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop-list.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"shop_list\">\n        <div class=\"head_img\" :style=\"'background-image:url('+bgImg+')'\">\n            <image mode=\"widthFix\" style=\"width:400rpx\" :src=\"centerImg\"></image>\n        </div>\n        <div class=\"goods_list\">\n            <div\n                class=\"goods_item\"\n                v-for=\"(item, index) in goodsList\"\n                :key=\"index\"\n                @click=\"goToDetails(item)\"\n            >\n                <div class=\"item_img\">\n                    <image :src=\"item.img\"></image>\n                </div>\n                <div class=\"item_title\">\n                    <div>{{ item.title }}</div>\n                    <div>{{ item.des }}</div>\n                </div>\n                <div class=\"item_price\">\n                    <div class=\"specail\">\n                        优惠价<span>¥{{ item.price }}</span>\n                    </div>\n                    <div>¥{{ item.origPrice }}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"fixed_shop_car\" @click=\"toCarList\">\n            <u-icon style=\"padding-top:8rpx\" name=\"shopping-cart\" size=\"40\" color=\"#ffffff\"></u-icon>\n        </div>\n        <u-loadmore margin-top=\"40\" :status=\"status\" :icon-type=\"iconType\" :load-text=\"loadText\" />\n    </div>\n</template>\n\n<script>\nimport apiShop from '@/services/api.shop.js';\nimport apiPublic from '@/services/api.public.js';\nexport default {\n    data() {\n        return {\n            goodsList: [],\n            page: 0,\n            pageSize: 6,\n            status: 'loadmore',\n            iconType: 'flower',\n            loadText: {\n                loadmore: '轻轻上拉',\n                loading: '努力加载中',\n                nomore: '没有更多了'\n            },\n            bgImg: require('@/static/imgs/index/shangchengtop.png'),\n            centerImg: require('@/static/imgs/index/mall05.png'),\n            shareConfig: null\n        };\n    },\n    onShow() {\n        this.getGoodsList();\n    },\n    created() {\n        apiPublic.shareConfigData({ type: 1 }).then(\n            res => {\n                if (res.code === 1) {\n                    this.shareConfig = res.retObj;\n                }\n                console.log(res);\n            }\n        );\n    },\n    methods: {\n        back() {\n            uni.navigateBack({\n                delta: 1\n            });\n            // uni.navigateTo({ url: '/pages/index/shop/shop-list' });\n        },\n        getGoodsList() {\n            this.page += 1;\n            this.$loading.open();\n            const data = {\n                page: this.page,\n                pageSize: this.pageSize,\n                scoreType: 1\n            };\n            apiShop.getGoodsList(data).then(\n                res => {\n                    if (res.retObj.totalNum === this.goodsList.length) {\n                        this.status = 'nomore';\n                        this.$loading.close();\n                        return;\n                    }\n                    if (this.goodsList.length === 0) {\n                        this.status = 'nomore';\n                    }\n                    this.goodsList = this.goodsList.concat(res.retObj.items);\n                    this.$loading.close();\n                },\n                err => {\n                    this.page -= 1;\n                    this.$loading.close();\n                }\n            );\n        },\n        goToDetails(item) {\n            uni.navigateTo({ url: `/pages/index/shop/shop-detail?id=${JSON.stringify(item.id)}` });\n        },\n        toCarList() {\n            uni.navigateTo({ url: '/pages/shopping-car/shopping-car' });\n        }\n    },\n    async onPullDownRefresh() {\n        // await this.$store.dispatch('loadUser');\n        this.page = 0;\n        this.goodsList = [];\n        this.getGoodsList();\n        setTimeout(function() { uni.stopPullDownRefresh(); }, 100);\n        // if (this.isLogin) {\n        //     this.loadData(false);\n        // } else {\n        //     uni.stopPullDownRefresh();\n        // }\n    },\n    onReachBottom() {\n        this.getGoodsList();\n    },\n    onShareAppMessage: function(res) {\n        if (res.from === 'button') {\n            // 来自页面内转发按钮\n        }\n        return {\n            title: this.shareConfig.title,\n            imageUrl: this.shareConfig.logo,\n            path: '/pages/group/list'\n        };\n        // shareSuccess\n    }\n};\n</script>\n\n<style lang=\"less\">\npage {\n    background: #ffe0e6;\n}\n.shop_list {\n    .head_img{\n        width: 100%;\n        height: 200rpx;\n        background-position: center;\n        background-size: cover;\n        background-repeat: no-repeat;\n        display: flex;\n        align-items: flex-end;\n        justify-content: center;\n        image{\n            margin-bottom: 20rpx;\n        }\n    }\n    .nav_container {\n        width: 100%;\n        display: flex;\n        position: relative;\n        .nav_back {\n            padding-left: 10rpx;\n        }\n        .nav_title {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n            color: #323233;\n            font-size: 32rpx;\n            font-weight: 500;\n        }\n        .nav_icon {\n            display: flex;\n            position: absolute;\n            right: 0;\n            top: 50%;\n            transform: translate(0, -50%);\n            div {\n                padding-right: 20rpx;\n            }\n        }\n    }\n    .goods_list {\n        width: 94%;\n        margin: 0 auto;\n        display: flex;\n        justify-content: space-between;\n        flex-wrap: wrap;\n        .goods_item {\n            margin-top: 30rpx;\n            width: 48%;\n            height: 480rpx;\n            background: #ffffff;\n            border-radius: 40rpx;\n            border: 1rpx solid #ff99aa;\n            .item_img {\n                width: 90%;\n                height: 60%;\n                display: flex;\n                justify-content: center;\n                margin: 20rpx auto;\n                image {\n                    width: 100%;\n                    height: 100%;\n                    margin: 0 auto;\n                    border-radius: 30rpx;\n                }\n            }\n            .item_title {\n                width: 90%;\n                height: 15%;\n                margin: 0 auto;\n                :nth-child(1) {\n                    font-size: 26rpx;\n                    color: #333333;\n                }\n                :nth-child(2) {\n                    font-size: 24rpx;\n                    color: #999999;\n                }\n                div {\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                }\n            }\n            .item_price {\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                width: 90%;\n                margin: 0 auto;\n                .specail {\n                    display: flex;\n                    align-items: center;\n                    font-size: 24rpx;\n                    color: #ff4060;\n                    :nth-child(1) {\n                        font-size: 36rpx;\n                        padding-left: 15rpx;\n                    }\n                }\n                :nth-child(2) {\n                    font-size: 24rpx;\n                    color: #999999;\n                    padding-right: 20rpx;\n                    text-decoration: line-through;\n                }\n            }\n        }\n    }\n    .fixed_shop_car{\n        position: fixed;\n        right: 40rpx;\n        top: 40rpx;\n        width: 60rpx;\n        height: 60rpx;\n        background: #ff2724;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 100%;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop-list.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop-list.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}