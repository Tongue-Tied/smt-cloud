{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/score/exchange.vue?08e8","webpack:///./src/pages/score/exchange.vue?e74b","webpack:///./src/pages/score/exchange.vue?7376","webpack:///./src/pages/score/exchange.vue?d728","uni-app:///src/pages/score/exchange.vue","webpack:///./src/pages/score/exchange.vue?2ec2"],"names":["createPage","Page","component","renderjs","options","__file","components","uTabs","uEmpty","uPopup","uIcon","e","message","indexOf","console","error","render","_h","this","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,kB,mDAEAA,EADA,2CACWC,U;;;;2DCHX,iZASIC,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,2BACZ,UAAAH,E;;;;2GCvBf,20B;;;;2GCAA,IAAII,EAAJ,kLACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,8NAITC,OAAQ,WACN,OAAO,gMAITC,OAAQ,WACN,OAAO,gMAITC,MAAO,WACL,OAAO,2LAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IACIC,EADMC,KACGC,eADHD,KAEGE,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBP,EAAOQ,eAAgB,G;;;;2DChDvB,sjBAAwf,YAAG,G;;;;0ICiE3f,I,EAAA,G,EAAA,uC,qCACA,CACE,KADF,WAEI,MAAJ,CACM,KAAN,CACA,CACQ,KAAR,QAEA,CACQ,KAAR,SAGM,QAAN,EACM,SAAN,GACM,UAAN,GACM,KAAN,sCACM,MAAN,EACM,UAAN,KACM,MAAN,IAGE,QApBF,WAqBI,KAAJ,YAEE,QAAF,CACI,OADJ,SACA,GACM,KAAN,UACM,KAAN,YAEI,QALJ,SAKA,GAAM,IAAN,OACM,KAAN,gBAMM,EAAN,qBALA,CACQ,KAAR,EACQ,SAAR,IACQ,KAAR,YAEA,KACA,YAIQ,GAHR,iBACU,EAAV,yBAEA,MACU,IAAV,gCACY,OAAZ,qBACc,IAAd,KACgB,EAAhB,0DACgB,MACF,IAAd,KACgB,EAAhB,yDACgB,MACF,IAAd,KACgB,EAAhB,wDACgB,MACF,IAAd,MACgB,EAAhB,yDACgB,MACF,IAAd,KACgB,EAAhB,0DAQQ,EAAR,iBACQ,EAAR,WAII,UA9CJ,SA8CA,GAAM,IAAN,OACA,GACQ,QAAR,WAEM,EAAN,6BACA,YACQ,QAAR,OACA,YACA,WACY,EAAZ,mBACY,EAAZ,YAMI,KA9DJ,SA8DA,GACM,IAAN,OACM,EAAN,kBACQ,KAAR,EACQ,QAAR,WAGU,EAAV,gBAGQ,KAAR,YACU,EAAV,sB;;;;2DClKA,q5BAAg2B,YAAG,G","file":"pages/score/exchange.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/score/exchange.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./exchange.vue?vue&type=template&id=8743148e&\"\nvar renderjs\nimport script from \"./exchange.vue?vue&type=script&lang=js&\"\nexport * from \"./exchange.vue?vue&type=script&lang=js&\"\nimport style0 from \"./exchange.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/score/exchange.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exchange.vue?vue&type=template&id=8743148e&\"","var components\ntry {\n  components = {\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-tabs/u-tabs\" */ \"uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exchange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exchange.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"exchange_box\" v-if=\"flag\">\n        <div class=\"header\">\n            <u-tabs :list=\"list\" active-color=\"#ff2724\" inactive-color=\"#333333\" :is-scroll=\"false\" :current=\"current\" @change=\"change\"></u-tabs>\n        </div>\n        <div class=\"container\">\n            <div v-for=\"(item, index) in cardList\" :key=\"index\" class=\"container_item\">\n                <div>兑换日期: {{item.createTime}}</div>\n                <div class=\"info\">\n                    <div>\n                        <image style=\"width:160rpx;height:160rpx;border-radius: 10rpx;\" :src=\"item.img\"></image>\n                    </div>\n                    <div class=\"right\">\n                        <div class=\"title\">{{item.title}}</div>\n                        <div class=\"content\">\n                            <image style=\"width:30rpx;height:30rpx\" :src=\"icon\"></image>\n                            <span v-if=\"item.type === 5\">{{ item.price / 10}}积分</span>\n                            <span v-if=\"item.type === 4\">{{ item.price }}积分</span>\n                            <span>¥{{item.origPrice}}</span>\n                            <div v-if=\"item.type === 4\" @click=\"logistics(item)\">查看物流</div>\n                        </div>\n                    </div>\n                    <div></div>\n                </div>\n            </div>\n            <u-empty v-if=\"!cardList.length\" text=\"暂时没有数据哦\" margin-top=\"40\" mode=\"list\"></u-empty>\n        </div>\n        <u-popup mode=\"center\" v-model=\"show\">\n            <div class=\"my_popup\" v-if=\"orderInfo\">\n                <div class=\"top\">\n                    <div class=\"top_item1\">\n                        <u-icon name=\"map-fill\" size=\"40\" color=\"#FF5979\"></u-icon>\n                    </div>\n                    <div class=\"top_item2 u-p-l-10\">\n                        <div>\n                            <span style=\"color:#333333;font-weight:500\">{{orderInfo.order.shName}}</span>\n                            <span class=\"u-p-l-10\" style=\"color:#999999\">{{orderInfo.order.phone}}</span>\n                        </div>\n                        <div class=\"u-m-t-10\">{{orderInfo.order.address}}</div>\n                    </div>\n                </div>\n                <div class=\"middle\"></div>\n                <div class=\"footer\">\n                    <div>\n                        <span>订单编号</span>\n                        <span>{{orderInfo.order.no}}</span>\n                        <span @click=\"copy(orderInfo.order.no)\">复制</span>\n                    </div>\n                    <div>\n                        <span>发货时间</span>\n                        <span>{{orderInfo.order.sendTime || '暂时没有物流信息'}}</span>\n                        <span></span>\n                    </div>\n                    <div>\n                        <span>发货单号</span>\n                        <span>{{orderInfo.order.iapId || '暂时没有物流信息'}}</span>\n                        <span @click=\"copy(orderInfo.order.iapId)\">复制</span>\n                    </div>\n                </div>\n            </div>\n        </u-popup>\n    </div>\n    <div v-else></div>\n</template>\n<script>\nimport api from '@/services/api.public.js';\nexport default {\n    data() {\n        return {\n            list: [\n                {\n                    name: '课程兑换'\n                },\n                {\n                    name: '商品兑换'\n                }\n            ],\n            current: 0,\n            cardList: [],\n            goodsList: [],\n            icon: require('@/static/imgs/my/coin.png'),\n            flag: false,\n            orderInfo: null,\n            show: false\n        };\n    },\n    created() {\n        this.getList(0);\n    },\n    methods: {\n        change(e) {\n            this.current = e;\n            this.getList(e);\n        },\n        getList(e) {\n            this.$loading.open();\n            let data = {\n                page: 1,\n                pageSize: 100,\n                type: e === 0 ? 5 : 4\n            };\n            api.getOrderList(data).then(\n                res => {\n                    if (res.retObj.items) {\n                        this.cardList = res.retObj.items;\n                    }\n                    if (e === 0) {\n                        for (let i = 0; i < this.cardList.length; i++) {\n                            switch (this.cardList[i].title) {\n                                case '周卡':\n                                    this.cardList[i].img = require('@/static/imgs/score/zhou.png');\n                                    break;\n                                case '月卡':\n                                    this.cardList[i].img = require('@/static/imgs/score/yue.png');\n                                    break;\n                                case '季卡':\n                                    this.cardList[i].img = require('@/static/imgs/score/ji.png');\n                                    break;\n                                case '半年卡':\n                                    this.cardList[i].img = require('@/static/imgs/score/ban.png');\n                                    break;\n                                case '年卡':\n                                    this.cardList[i].img = require('@/static/imgs/score/nian.png');\n                                    break;\n\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                    this.$loading.close();\n                    this.flag = true;\n                }\n            );\n        },\n        logistics(item) {\n            let data = {\n                orderId: item.orderId\n            };\n            api.getOrderinfo(data).then(\n                res => {\n                    console.log(res);\n                    if (res.code === 1) {\n                        if (res.retObj) {\n                            this.orderInfo = res.retObj;\n                            this.show = true;\n                        }\n                    }\n                }\n            );\n        },\n        copy(value) {\n            let that = this;\n            uni.setClipboardData({\n                data: value, // 要被复制的内容\n                success: function() {\n                    // 重点~做笔记\n                    // 在success中加入uni.hideToast()可以解决\n                    that.$toast('复制成功');\n                    // 以下就可自定义操作了~\n                },\n                fail: function(err) {\n                    that.$toast('复制失败');\n                }\n            });\n        }\n    }\n};\n</script>\n<style lang=\"less\">\npage{\n    background: #f5f5f5;\n    padding-bottom: calc(10rpx + env(safe-area-inset-bottom));\n}\n.exchange_box{\n    .container{\n        .container_item{\n            width: 90%;\n            background: #ffffff;\n            margin: 30rpx auto;\n            padding: 30rpx;\n            border-radius: 40rpx;\n            div{\n                font-size: 28rpx;\n            }\n            .info{\n                display: flex;\n                margin-top: 30rpx;\n                // align-items:;\n                .right{\n                    margin-left: 30rpx;\n                    display: flex;\n                    flex-direction: column;\n                    justify-content: space-between;\n                    .title{\n                        font-size: 30rpx;\n                        color: #333333;\n                    }\n                    .content{\n                        display: flex;\n                        align-items: center;\n                        :nth-child(2){\n                            color: #ff2724;\n                            padding-left: 20rpx;\n                        }\n                        :nth-child(3){\n                            color: #999999;\n                            padding-left: 20rpx;\n                            text-decoration: line-through;\n                        }\n                        div{\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            border-radius: 40rpx;\n                            padding: 5rpx 20rpx;\n                            margin-left: 30rpx;\n                            color: #ff2724;\n                            border: 2rpx solid #ff2724;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    .my_popup{\n        width: 640rpx;\n        height: 600rpx;\n        background: #ffffff;\n        border-radius: 40rpx;\n        .top{\n            padding: 30rpx;\n            display: flex;\n            .top_item1{\n                width: 40rpx;\n            }\n            .top_item2{\n                flex: 1;\n            }\n        }\n        .middle{\n            width: 640rpx;\n            height: 10rpx;\n            background: #f5f5f5;\n        }\n        .footer{\n            padding: 30rpx;\n            div{\n                padding-bottom: 40rpx;\n                display: flex;\n                align-items: center;\n                flex-wrap: nowrap;\n                justify-content: space-between;\n                :nth-child(2){\n                    color: #333333;\n                    word-break: break-all;\n                    flex: 1;\n                    padding: 0 20rpx;\n                }\n                :nth-child(3){\n                    color:#ff2724;\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exchange.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exchange.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}