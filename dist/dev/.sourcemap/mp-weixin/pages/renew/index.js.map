{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/renew/index.vue?2146","webpack:///./src/pages/renew/index.vue?b84f","webpack:///./src/pages/renew/index.vue?5fec","webpack:///./src/pages/renew/index.vue?e307","uni-app:///src/pages/renew/index.vue","webpack:///./src/pages/renew/index.vue?921d"],"names":["createPage","Page","component","renderjs","options","__file","render","_vm","this","_h","$createElement","m0","_self","_c","$state","m1","m2","m3","m4","user","isVip","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,kB,mDAEAA,EADA,wCACWC,U;;;;2DCHX,wYASIC,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,wBACZ,UAAAH,E;;;;2GCvBf,w0B;;;;2GCAA,0KACA,IAAII,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,UACTC,EAAKR,EAAIO,SACTE,EAAKT,EAAIO,SACTG,EAAKV,EAAIO,SACTI,EAAuB,IAAlBD,EAAGE,KAAKC,MAAcb,EAAIO,SAAW,KAC9CP,EAAIc,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLd,GAAIA,EACJI,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,MAKRQ,GAAmB,EACnBC,EAAkB,GACtBrB,EAAOsB,eAAgB,G;;;;2DCzBvB,mjBAAqf,YAAG,G;;;;0ICgCxf,I,EAAA,G,EAAA,uC,qCACA,CACE,KADF,WAEI,MAAJ,CACM,MAAN,2CACM,SAAN,GACM,MAAN,EACM,QAAN,IAGE,QATF,WASI,IAAJ,OACI,QAAJ,wBACI,EAAJ,wBACA,YACM,GAAN,YACQ,EAAR,kBACQ,IAAR,gCACU,OAAV,oBACY,IAAZ,KACc,EAAd,4DACc,MACF,IAAZ,KACc,EAAd,2DACc,MACF,IAAZ,KACc,EAAd,0DACc,MACF,IAAZ,MACc,EAAd,2DACc,MACF,IAAZ,KACc,EAAd,4DAMQ,EAAR,YAKE,QAAF,CACI,UADJ,SACA,KACM,KAAN,WAEI,IAJJ,WAIM,IAAN,OACA,GACQ,MAAR,EACQ,OAAR,gCAEM,EAAN,8BACA,YACQ,QAAR,OACA,aACA,GACY,QAAZ,YACY,UAAZ,EACY,QAAZ,GAEU,EAAV,yBACA,YAEY,IACZ,EACA,EAHY,QAAZ,OACA,YACA,8BACA,IACc,EAAd,gBACgB,SAAhB,QACgB,UAAhB,YACgB,SAAhB,WACgB,QAAhB,UACgB,SAAhB,MACgB,QAAhB,UACgB,QAAhB,YACkB,EAAlB,YAAoB,IAApB,0CAEgB,KAAhB,YACkB,EAAlB,eACkB,QAAlB,mCAIc,EAAd,uB;;;;2DClHA,k5BAA61B,YAAG,G","file":"pages/renew/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/renew/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6edf9a32&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/renew/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6edf9a32&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$state()\n  var m1 = _vm.$state()\n  var m2 = _vm.$state()\n  var m3 = _vm.$state()\n  var m4 = m3.user.isVip === 1 ? _vm.$state() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"renew\">\n        <div class=\"top\" style=\"background-image:url(https://img.ruoshixunlianbao.com/bgMy_02.png)\">\n            <div class=\"avatar\">\n                <image :src=\"$state().user.headImg\"></image>\n            </div>\n            <div class=\"user_name\">\n                <div class=\"name\">{{$state().user.userNick}}</div>\n                <div class=\"vip_time\">\n                    <image :src=\"corwn\" v-if=\"$state().user.isVip === 1\"></image>\n                    <span v-if=\"$state().user.isVip === 1\">{{$state().user.vipTime}}会员到期</span>\n                    <span v-else>您还未开通vip</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"middle\">\n            <div class=\"m_item\" :class=\"index === myIndex ? 'active' : ''\" @click=\"cellClick(item,index)\" v-for=\"(item, index) in cardList\" :key=\"index\" :style=\"'background-image:url('+item.img+');'\">\n                <div>{{item.name}}</div>\n                <div :class=\"item.id===15?'z':item.id===11?'y':item.id===12?'j':item.id===13?'b':'n'\">{{item.pjPrice}}元/月</div>\n                <div :class=\"item.id===15?'z1':item.id===11?'y1':item.id===12?'j1':item.id===13?'b1':'n1'\"><span style=\"font-size:26rpx;padding-right:5rpx\">¥</span>{{item.price}}</div>\n            </div>\n        </div>\n        <div class=\"bottom\">\n            <div class=\"b_left\">\n                <span>合计</span>\n                <span>¥{{cardList[myIndex].price}}</span>\n            </div>\n            <div class=\"b_right\" @click=\"pay\">去支付</div>\n        </div>\n    </div>\n</template>\n<script>\nimport api from '@/services/api.public.js';\nexport default {\n    data() {\n        return {\n            corwn: require('@/static/imgs/index/会员icon.png'),\n            cardList: [],\n            flag: false,\n            myIndex: 0\n        };\n    },\n    created() {\n        console.log(this.$state().user);\n        api.cardList().then(\n            res => {\n                if (res.code === 1) {\n                    this.cardList = res.retArr;\n                    for (let i = 0; i < this.cardList.length; i++) {\n                        switch (this.cardList[i].name) {\n                            case '周卡':\n                                this.cardList[i].img = require('@/static/imgs/score/zhou01.png');\n                                break;\n                            case '月卡':\n                                this.cardList[i].img = require('@/static/imgs/score/yue01.png');\n                                break;\n                            case '季卡':\n                                this.cardList[i].img = require('@/static/imgs/score/ji01.png');\n                                break;\n                            case '半年卡':\n                                this.cardList[i].img = require('@/static/imgs/score/ban01.png');\n                                break;\n                            case '年卡':\n                                this.cardList[i].img = require('@/static/imgs/score/nian01.png');\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                    this.flag = true;\n                }\n            }\n        );\n    },\n    methods: {\n        cellClick(item, index) {\n            this.myIndex = index;\n        },\n        pay() {\n            let data = {\n                redId: 0,\n                cardId: this.cardList[this.myIndex].id\n            };\n            api.operCardOrder(data).then(\n                res => {\n                    console.log(res);\n                    if (res.code === 1) {\n                        let par = {\n                            orderId: res.retObj.id,\n                            orderType: 1,\n                            payType: 3\n                        };\n                        api.payOrder(par).then(\n                            res => {\n                                console.log(res);\n                                if (res.code === 1) {\n                                    let config = JSON.parse(res.retObj.no_use);\n                                    let that = this;\n                                    uni.requestPayment({\n                                        provider: 'wxpay',\n                                        timeStamp: config.timeStamp,\n                                        nonceStr: config.nonceStr,\n                                        package: config.package,\n                                        signType: 'MD5',\n                                        paySign: config.paySign,\n                                        success: function(res) {\n                                            uni.navigateTo({ url: '/pages/mine/views/my-order?current=0' });\n                                        },\n                                        fail: function(err) {\n                                            that.$toast('支付失败');\n                                            console.log('fail:' + JSON.stringify(err));\n                                        }\n                                    });\n                                } else {\n                                    this.$toast(res.msg);\n                                }\n                            }\n                        );\n                    }\n                }\n            );\n        }\n    }\n};\n</script>\n<style lang=\"less\">\npage{\n    background: #f5f5f5;\n}\n.renew{\n    div,span{\n        font-size: 28rpx;\n    }\n    .top{\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        width: 100%;\n        height:280rpx;\n        display: flex;\n        align-items: center;\n        .avatar{\n            width: 160rpx;\n            height: 160rpx;\n            background: #ffffff;\n            border-radius: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-left: 40rpx;\n            image{\n                height: 140rpx;\n                width: 140rpx;\n                border-radius: 100%;\n            }\n        }\n        .user_name{\n            padding-left: 30rpx;\n            color: #ffffff;\n            .name{\n                font-size: 44rpx;\n                font-weight: 500;\n            }\n            .vip_time{\n                image{\n                    width: 20rpx;\n                    height: 20rpx;\n                    margin-right: 10rpx;\n                }\n            }\n        }\n    }\n    .middle{\n        display: flex;\n        justify-content: space-between;\n        flex-wrap: wrap;\n        padding: 20rpx;\n        background: #ffffff;\n        .m_item{\n            width: 46%;\n            border-radius: 30rpx;\n            height: 200rpx;\n            margin-top: 20rpx;\n            background-size: cover;\n            background-position: center;\n            background-repeat: no-repeat;\n            overflow: hidden;\n            padding-left: 20rpx;\n            :nth-child(1) {\n                margin-top: 20rpx;\n                color: #333333;\n                font-size: 30rpx;\n            }\n            :nth-child(2) {\n                color: #fcfcfc;\n            }\n            :nth-child(3){\n                font-size: 40rpx;\n                padding-top: 20rpx;\n            }\n            .z{\n                color: #749eda;\n            }\n            .y{\n                color: #5c998f;\n            }\n            .j{\n                color: #70995c;\n            }\n            .b{\n                color: #995c5c;\n            }\n            .n{\n                color: #99805c;\n            }\n            .z1{\n                color: #6699cc;\n                span{\n                    color: #6699cc;\n                }\n            }\n            .y1{\n                color: #009980;\n                span{\n                    color: #009980;\n                }\n            }\n            .j1{\n                color: #339900;\n                span{\n                    color: #339900;\n                }\n            }\n            .b1{\n                color: #e52e2e;\n                span{\n                    color: #e52e2e;\n                }\n            }\n            .n1{\n                color: #ff7f00;\n                span{\n                    color: #ff7f00;\n                }\n            }\n        }\n        .active{\n            border: 4rpx dashed #ff2724;\n        }\n    }\n    .bottom{\n        width: 100%;\n        height: 90rpx;\n        position: fixed;\n        left: 0;\n        bottom: 0;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding-bottom: calc(env(safe-area-inset-bottom));\n        background: #ffffff;\n        .b_left{\n            padding-left: 20rpx;\n            :nth-child(1){\n                color: #333333;\n                font-size: 24rpx;\n                padding-right: 25rpx;\n            }\n            :nth-child(2) {\n                color: #ff2724;\n                font-weight: 500;\n                font-size: 34rpx;\n            }\n        }\n        .b_right{\n            width: 200rpx;\n            height: 60rpx;\n            color: #ffffff;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: #ff2724;\n            border-radius: 40rpx;\n            margin-right: 20rpx;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}