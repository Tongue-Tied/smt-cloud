{"version":3,"sources":["webpack:///./src/components/calendar.vue?d30a","webpack:///./src/components/calendar.vue?2adb","webpack:///./src/components/calendar.vue?27d2","webpack:///./src/components/calendar.vue?86d7","uni-app:///src/components/calendar.vue","webpack:///./src/components/calendar.vue?b9fe"],"names":["component","renderjs","options","__file","render","_vm","this","_h","$createElement","l0","_self","_c","__map","calendar","item","index","$orig","__get_orig","s0","__get_style","dayActive","start","end","isNot","dayBg","active","activeBg","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,kbASIA,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,WACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,0BACZ,UAAAH,E;;;;2GCvBf,q0B;;;;2GCAA,0KACA,IAAII,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAU,SAASC,EAAMC,GAU9C,MAAO,CACLC,MAVUX,EAAIY,WAAWH,GAWzBI,GATOb,EAAIc,YAAY,EACtBL,EAAKM,WAAaN,EAAKO,OAASP,EAAKQ,OAASR,EAAKS,MAChDlB,EAAImB,MACJ,GACJV,EAAKW,SAAWX,EAAKS,MAAQlB,EAAIqB,SAAW,SAShDrB,EAAIsB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLtB,GAAIA,MAKRuB,GAAmB,EACnBC,EAAkB,GACtB7B,EAAO8B,eAAgB,G;;;;2DChCvB,uiBAAye,YAAG,G;;;;4OCuC5e,0C,kLACA,CACE,MAAF,CAEI,oBAAJ,CACM,KAAN,OACM,QAAN,WAGI,mBAAJ,CACM,KAAN,OACM,QAAN,WAGI,eAAJ,CACM,KAAN,QACM,SAAN,GAGI,cAAJ,CACM,KAAN,QACM,SAAN,GAGI,eAAJ,CACM,KAAN,QACM,SAAN,GAGI,KAAJ,CACM,KAAN,OACM,QAAN,QAGI,OAAJ,CACM,KAAN,QACM,SAAN,GAII,aAAJ,CACM,KAAN,OACM,QAAN,IAGI,WAAJ,CACM,KAAN,OACM,QAAN,IAGI,aAAJ,CACM,KAAN,OACM,QAAN,MAGI,WAAJ,CACM,KAAN,OACM,QAAN,MAGI,kBAAJ,CACM,KAAN,OACM,QAAN,sBAGI,iBAAJ,CACM,KAAN,OACM,QAAN,yBAGI,aAAJ,CACM,KAAN,QACM,SAAN,GAGI,WAAJ,CACM,KAAN,OACM,QAAN,IAGI,WAAJ,CACM,KAAN,MACM,QAAN,WACQ,MAAR,KAGI,KAAJ,CACM,KAAN,OACM,QAAN,IAGE,KA1FF,WA2FI,MAAJ,CACM,SAAN,8BACM,SAAN,GACM,YAAN,GACM,WAAN,GACM,MAAN,GACM,IAAN,GACM,QAAN,EACM,QAAN,KAGE,SAAF,CAEI,MAFJ,WAGM,MAAN,CAAQ,WAAR,UAAQ,MAAR,YAGI,SANJ,WAOM,MAAN,CAAQ,WAAR,kBAAQ,MAAR,YAGI,QAVJ,WAWM,MAAN,CAAQ,MAAR,sBAGI,QAdJ,WAeM,MAAN,CAAQ,MAAR,wBAGE,MAAF,CACI,WAAJ,CACM,MAAN,EACM,QAFN,SAEA,KAEA,gBACU,KAAV,8BAKE,QAnIF,WAmII,I,EAAJ,OAAI,O,EAAJ,qHACA,iBACA,OACA,6BACA,OACA,uBACA,gBAEA,iBACA,cACA,0BACA,2BAEA,iBACoB,EAApB,sDAKA,iBACA,iBACA,uDAIA,GACA,OACA,aACA,8CA5BA,UA8BA,6BA9BA,QA8BA,EA9BA,OA+BA,IACA,aACA,oBAEA,UAGA,2CAtCA,yC,2KAAA,IAwCE,QAAF,CAII,WAJJ,WAKM,IAAN,WAKM,OAJA,QAAN,eAIA,CAHA,wBACA,uBACA,sBAQI,YAjBJ,SAiBA,KAAM,IAAN,OAEA,kBACA,UACA,IAGA,aAEQ,EAAR,SADQ,EAAR,qBAEQ,EAAR,MAIM,IAMN,EANA,0DATA,EASA,EAGA,EADA,IACA,oBAGA,cAIM,IAQN,8CARA,QACA,UACA,WAOA,OACQ,EAAR,IAGM,IAAN,IACA,MACA,OACQ,EAAR,IACQ,EAAR,IASM,IAPA,IAAN,cACA,cAEA,6CACA,KAGA,cACQ,IAAR,QAGQ,EAAR,MACU,IAAV,EACU,QAAV,EACU,OAAV,EACU,SAAV,aANA,eAWM,IADA,IAAN,8CACA,aAEQ,EAAR,MACU,IAAV,EACU,QAAV,EACU,OAAV,EACU,SAAV,aALA,aAMU,KAAV,eACU,KAAV,EACU,MAAV,EACU,QAAV,IAIM,IAAN,IACA,MACA,QACQ,EAAR,IACQ,EAAR,GAEM,IAwCN,EAaA,EArDA,cAEA,aACM,GAAN,aACQ,IAAR,mBAEU,EAAV,MACY,IAAZ,EACY,QAAZ,EACY,OAAZ,EACY,SAAZ,aALA,eAwDM,MA9CN,oBAEA,qCACU,KAAV,oCAGA,sBAEA,sCACA,8BACY,KAAZ,qCAIA,6DAEA,uBACY,KAAZ,qBACY,KAAZ,iBAEA,gCACA,qBAAgB,OAAhB,sBACc,EAAd,+CAEA,8BACA,qBAAgB,OAAhB,oBACc,EAAd,+CAKQ,KAAR,mBAEA,qBACQ,KAAR,6BAGA,cACA,uBACQ,EAAR,oBACU,EAAV,YACA,mCACY,EAAZ,gBAIA,GAKI,UAtKJ,SAsKA,KACM,EAAN,oBACQ,EAAR,aACQ,EAAR,oBACA,gBACY,EAAZ,kBAIM,KAAN,WACM,KAAN,gBAQI,cAxLJ,SAwLA,KAAM,IAAN,iEACA,OACM,EAAN,oBACQ,EAAR,aAEA,yEACU,EAAV,aACA,gBACY,EAAZ,gBAAc,IAAd,MAAc,KAAd,WAAc,KAAd,OAAc,KAAd,OAAc,MAAd,QAAc,QAAd,UAAc,OAAd,KAGQ,IAAR,6BAAU,OAAV,qDACA,IACU,EAAV,gBACU,EAAV,cACU,QAAV,sBAGM,KAAN,WACM,KAAN,gBAKI,YAhNJ,SAgNA,GAAM,IA6BN,EACA,EA9BA,iEAEM,EAAN,oBAeQ,IACR,EAfQ,EAAR,SACQ,EAAR,OACQ,EAAR,UACQ,EAAR,aAGA,8DACU,EAAV,UAGA,4DACU,EAAV,QAGA,wEACA,UACU,EAAV,YACU,EAAV,OAGA,uHACU,EAAV,aAIA,oCACA,4CACA,0CACQ,KAAR,gBACU,MAAV,WACU,UAAV,OACU,UAAV,OACU,WAAV,QACU,SAAV,MACU,IAAV,SACU,QAAV,OACU,QAAV,OACU,SAAV,QACU,OAAV,MACU,OAAV,IAEQ,KAAR,WAEM,KAAN,WACM,KAAN,gBAMI,eArQJ,SAqQA,KAEM,GAAN,sBAEA,qBAAM,CACA,GAAN,mBACQ,GAAR,mCAEQ,KAAR,sBACQ,KAAR,wCAEM,GAAN,oBAUQ,GARR,uBACU,KAAV,SACU,KAAV,OACU,KAAV,UACU,EAAV,+BACU,EAAV,8BAGA,sBAGA,0BAEU,GAAV,8BACU,KAAV,eACU,EAAV,kDANU,KAAV,iBACU,EAAV,8CAQQ,KAAR,8BAMI,SA1SJ,WA2SM,IACA,EAAN,EADA,oBACA,WACM,KAAN,cACM,KAAN,2CAKI,SAnTJ,WAoTM,IAAN,mBACM,EAAN,8BACM,KAAN,cACM,KAAN,2CAKI,UA5TJ,WA6TM,IAEE,GAFR,oBACA,QACA,YAEA,cAEM,KAAN,cACM,KAAN,2CAKI,UAzUJ,WA0UM,IAEE,EADR,KADA,oBACA,GACA,mBAEA,8BAEM,KAAN,cACM,KAAN,6C;;;;2DCpiBA,44BAAu1B,YAAG,G","file":"components/calendar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./calendar.vue?vue&type=template&id=e9e7bf0e&scoped=true&\"\nvar renderjs\nimport script from \"./calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calendar.vue?vue&type=style&index=0&id=e9e7bf0e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9e7bf0e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/calendar.vue\"\nexport default component.exports","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendar.vue?vue&type=template&id=e9e7bf0e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.calendar, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var s0 = _vm.__get_style([\n      (item.dayActive || item.start || item.end) && !item.isNot\n        ? _vm.dayBg\n        : {},\n      item.active && !item.isNot ? _vm.activeBg : {}\n    ])\n\n    return {\n      $orig: $orig,\n      s0: s0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendar.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"fu-calendar-wrap\">\n    <!-- 日历选择 start -->\n    <div class=\"own_fu_title\">\n        <view class=\"fu-calendar-data fu-flex fu-justify-center fu-align-center fu-margin fu-height-72\" v-if=\"changeTitle\">\n            <view class=\"fu-title fu-text-333\">{{ currentDate[0] }}年{{ currentDate[1] }}月</view>\n        </view>\n        <view class=\"fu-week fu-flex fu-justify-between fu-align-center fu-text-333 fu-height-72\">\n            <view class=\"fu-week-item fu-text-center\" v-for=\"item in weekData\" :key=\"item\">{{ item }}</view>\n        </view>\n    </div>\n    <!-- 星期 end -->\n    <!-- 日历 start -->\n    <view class=\"fu-calendar fu-flex fu-justify-between fu-align-center fu-flex-wrap fu-text-333\">\n      <!-- mode == date || mode == range -->\n      <view\n        class=\"fu-calendar-item  fu-text-center\"\n        @click=\"changeCalendar(item, index)\"\n        :class=\"{ isNot: item.isNot, isFuture: item.isFuture && !item.isNot }\"\n        v-for=\"(item, index) in calendar\"\n        :style=\"[(item.dayActive || item.start || item.end) && !item.isNot ? dayBg : {}, item.active && !item.isNot ? activeBg : {}]\"\n        :key=\"index\"\n      >\n        <view\n          class=\"fu-calendar-num fu-flex fu-justify-center fu-align-center\"\n          :class=\"{ signin: mode == 'signin', range: mode == 'range', start: item.start, end: item.end }\"\n        >\n          {{ item.day }}\n          <view class=\"fu-calendar-text\" v-show=\"item.start\">{{ startText }}</view>\n          <view class=\"fu-calendar-text\" v-show=\"item.end\">{{ endText }}</view>\n          <div class=\"fixed_box\" v-if=\"item.isTraining\">训练{{item.minute}}分钟</div>\n        </view>\n      </view>\n    </view>\n    <!-- 日历 end -->\n  </view>\n</template>\n\n<script>\nimport api from '@/services/api.public.js';\nexport default {\n    props: {\n    // 月份切换按钮箭头颜色\n        'month-arrow-color': {\n            type: String,\n            default: '#666666'\n        },\n        // 年份切换按钮箭头颜色\n        'year-arrow-color': {\n            type: String,\n            default: '#999999'\n        },\n        // 是否显示顶部年月\n        'change-title': {\n            type: Boolean,\n            default: true\n        },\n        // 是否显示顶部的切换年份方向的按钮\n        'change-year': {\n            type: Boolean,\n            default: true\n        },\n        // 是否显示顶部的切换月份方向的按钮\n        'change-month': {\n            type: Boolean,\n            default: true\n        },\n        // 日期模式 date 单个日期选择模式  range 日期段选择模式  signin 签到日期展示模式\n        mode: {\n            type: String,\n            default: 'date'\n        },\n        // 未来日期是否可选择 默认不可选择\n        future: {\n            type: Boolean,\n            default: false\n        },\n        // 日期段回显时 若只传入一个日期则不显示\n        // 日期段选择时默认显示开始时间\n        'start-time': {\n            type: String,\n            default: ''\n        },\n        // 日期段选择时默认显示结束时间\n        'end-time': {\n            type: String,\n            default: ''\n        },\n        // 起始日期底部的提示文字\n        'start-text': {\n            type: String,\n            default: '开始'\n        },\n        // 结束日期底部的提示文字\n        'end-text': {\n            type: String,\n            default: '结束'\n        },\n        // 选择日期开始结束当天背景色\n        'active-bg-color': {\n            type: String,\n            default: 'rgba(41,121,255,1)'\n        },\n        // 选择日期中间的背景色\n        'range-bg-color': {\n            type: String,\n            default: 'rgba(41,121,255,0.13)'\n        },\n        // 当前日期是否高亮\n        isDefaultDay: {\n            type: Boolean,\n            default: true\n        },\n        // 单个日期选择默认选中时间 xxxx-yy-dd\n        currenTime: {\n            type: String,\n            default: ''\n        },\n        // 签到模式数据 [xxxx-yy-dd]\n        signinData: {\n            type: Array,\n            default: function() {\n                return [];\n            }\n        },\n        date: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            weekData: ['日', '一', '二', '三', '四', '五', '六'], // 星期\n            calendar: [], // 日历数组\n            currentDate: [], // 当前日期\n            currentDay: '', // 当天时间\n            start: '', // 开始时间\n            end: '', // 结束时间\n            isEmit: true, // mode == range是否推送\n            resList: []\n        };\n    },\n    computed: {\n    // 背景色\n        dayBg() {\n            return { background: '#ff2724', color: '#ffffff' };\n        },\n        // 时间段背景色\n        activeBg() {\n            return { background: this.rangeBgColor, color: '#ffffff' };\n        },\n        // 年份箭头颜色\n        yaColor() {\n            return { color: this.yearArrowColor };\n        },\n        // 月份箭头颜色\n        maColor() {\n            return { color: this.monthArrowColor };\n        }\n    },\n    watch: {\n        signinData: {\n            deep: true,\n            handler(newVal, oldVal) {\n                // eslint-disable-next-line no-undef\n                if (mode == 'signin') {\n                    this.singinFun(this.calendar, newVal);\n                }\n            }\n        }\n    },\n    async mounted() {\n        let currentDate = this.currentime();\n        let y = currentDate[0];\n        let m = this.date > 9 ? this.date : '0' + this.date;\n        currentDate[1] = m;\n        let d = currentDate[2] > 9 ? currentDate[2] : '0' + currentDate[2];\n        this.currentDate = currentDate;\n        //  mode == 'date' 在传入单个时间时 currentDay不再显示默认的当前时间\n        if (this.mode == 'date') {\n            if (this.currenTime) {\n                this.currentDay = this.currenTime;\n                console.log(this.currentDay);\n            } else {\n                if (this.isDefaultDay) {\n                    this.currentDay = `${y}-${m}-${d}`;\n                }\n            }\n        }\n        //  mode == 'date' isDefaultDay == true时 当前时间才显示\n        if (this.mode == 'range') {\n            if (this.isDefaultDay) {\n                this.currentDay = `${y}-${m}-${d}`;\n            }\n        }\n        // 日历赋值\n        let data = {\n            page: 1,\n            pageSize: 100,\n            time: this.$dayjs().month(m - 1).format('YYYY-MM')\n        };\n        let res = await api.getGameCalendar(data);\n        try {\n            if (res.code === 1) {\n                this.resList = res.retArr;\n            }\n        } catch (error) {\n\n        }\n        this.calendar = this.getCalendar(currentDate[0], this.date, currentDate[2]);\n    },\n    methods: {\n    /**\n     * @description 获取当前时间函数\n     */\n        currentime() {\n            var date = new Date();\n            console.log(this.date);\n            var y = Number(date.getFullYear());\n            var m = Number(date.getMonth() + 1);\n            var d = Number(date.getDate());\n            return [y, m, d];\n        },\n        /**\n     * @description 获取日历\n     * @param {String,Number} y 年\n     * @param {String,Number} m 月\n     */\n        getCalendar(y, m) {\n            // 求解cy年cm月cd日是星期几,parseInt代表取整 d=1是去每个月第一天\n            var cc = parseInt(y / 100); // c\n            var cy = y - cc * 100; // y\n            var cm = m; // m\n            var cd = 1; // d\n            // 某年的1、2月要看作上一年的13、14月来计算，比如2003年1月1日要看作2002年的13月1日来计算\n            if (m == 1 || m == 2) {\n                cc = parseInt((y - 1) / 100);\n                cy = y - 1 - cc * 100;\n                cm = 12 + m;\n            }\n            // w=y+[y/4]+[c/4]-2c+[26(m+1）/10]+d-1\n            // var csum = y + [y / 4] + [c / 4] - 2c+[26(m + 1）/10]+d-1;\n            var csum = cy + parseInt(cy / 4) + parseInt(cc / 4) - 2 * cc + parseInt((26 * (cm + 1)) / 10) + cd - 1;\n            // 注意使用蔡勒公式时出现负数情况    fd 每月第一天星期几\n            if (csum < 0) {\n                var fd = parseInt(((csum % 7) + 7) % 7);\n            } else {\n                // eslint-disable-next-line no-redeclare\n                var fd = parseInt(csum % 7);\n            }\n\n            // 上个月天数\n            var cond1 = y % 4 == 0; // 条件1：年份必须要能被4整除\n            var cond2 = y % 100 != 0; // 条件2：年份不能是整百数\n            var cond3 = y % 400 == 0; // 条件3：年份是400的倍数\n            // 当条件1和条件2同时成立时，就肯定是闰年，所以条件1和条件2之间为“与”的关系。\n            // 如果条件1和条件2不能同时成立，但如果条件3能成立，则仍然是闰年。所以条件3与前2项为“或”的关系。\n            // 所以得出判断闰年的表达式：\n            var cond = (cond1 && cond2) || cond3;\n            // 判断当月有多少天\n            var allDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][m - 1];\n            if (cond && m == 2) {\n                allDays = 29;\n            }\n            // 上个月是不是去年\n            let prevYear = y;\n            let prevMonth = m - 1;\n            if (m == 1) {\n                prevYear = y - 1;\n                prevMonth = 12;\n            }\n            let _prevMonth = prevMonth > 9 ? prevMonth : '0' + prevMonth;\n            let _m = m > 9 ? m : '0' + m;\n            // 判断上个月天数\n            var prevDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][prevMonth - 1];\n            var calendar = [];\n            // 这里塞入上个月末尾日期\n            // day 日  active 是否选择 isNot 是不是这个月 formData 日期格式 isBg 是否加背景色（日期段筛选时使用）\n            for (let i = 1; i <= fd; i++) {\n                let prevDay = prevDays - fd + i;\n                let _prevDay = prevDay > 9 ? prevDay : '0' + prevDay;\n\n                calendar.push({\n                    day: prevDay,\n                    active: false,\n                    isNot: true,\n                    formData: prevYear + '-' + _prevMonth + '-' + _prevDay\n                });\n            }\n            // 这里塞入正常这个月的日期\n            let week = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];\n            for (let i = 1; i <= allDays; i++) {\n                let _i = i > 9 ? i : '0' + i;\n                calendar.push({\n                    day: i,\n                    active: false,\n                    isNot: false,\n                    formData: y + '-' + _m + '-' + _i,\n                    week: week[((i + fd - 1) % 7) % 7],\n                    year: y,\n                    month: m,\n                    allDays: allDays\n                });\n            }\n            // 下个月是不是下一年\n            let nextYear = y;\n            let nextMonth = m + 1;\n            if (m == 12) {\n                nextYear = y + 1;\n                nextMonth = 1;\n            }\n            let _nextMonth = nextMonth > 9 ? nextMonth : '0' + nextMonth;\n            // 判断数组最后一排剩余几个位置塞入下个月日期\n            let takedie = calendar.length % 7;\n            if (7 - takedie > 0 && 7 - takedie < 7) {\n                for (let i = 1; i <= 7 - takedie; i++) {\n                    let _i = i > 9 ? i : '0' + i;\n                    calendar.push({\n                        day: i,\n                        active: false,\n                        isNot: true,\n                        formData: nextYear + '-' + _nextMonth + '-' + _i\n                    });\n                }\n            }\n            // 默认当天时间加背景色\n            if (this.mode == 'date') {\n                // 在range模式时  start end不存在时走这个\n                if (this.isDefaultDay || this.currentDay) {\n                    this.currentDayFun(calendar, this.currentDay, true);\n                }\n            }\n            if (this.mode == 'range') {\n                // 在range模式时  start end不存在时走这个\n                if (this.isDefaultDay || this.currentDay) {\n                    if (!this.startTime || !this.endTime) {\n                        this.currentDayFun(calendar, this.currentDay, true);\n                    }\n                }\n                // 当开始时间与结束时间存在时\n                if (this.startTime && this.endTime && this.startTime != this.endTime) {\n                    // 当没有选择过时 进行赋值操作  若是已经点击过 start end存在值 就不需要赋值了\n                    if (!this.start && !this.end) {\n                        this.start = this.startTime;\n                        this.end = this.endTime;\n                        // 判断开始结束值存入本地\n                        if (!uni.getStorageSync('startItem')) {\n                            let startItem = calendar.find(item => item.formData == this.start);\n                            uni.setStorageSync('startItem', JSON.stringify(startItem));\n                        }\n                        if (!uni.getStorageSync('endItem')) {\n                            let endItem = calendar.find(item => item.formData == this.end);\n                            uni.setStorageSync('endItem', JSON.stringify(endItem));\n                        }\n                    }\n                }\n\n                this.rangeDayFun(calendar, true);\n            }\n            if (this.mode == 'signin') {\n                this.singinFun(calendar, this.signinData);\n            }\n            // 判断未来日期是否可选择\n            if (!this.future) {\n                let nowData = new Date().getTime();\n                calendar.forEach(val => {\n                    val.isFuture = false;\n                    if (new Date(val.formData).getTime() > nowData) {\n                        val.isFuture = true;\n                    }\n                });\n            }\n            return calendar;\n        },\n        /**\n     * @description 高亮日期  签到模式\n     */\n        singinFun(calendar, data) {\n            calendar.forEach(a => {\n                a.dayActive = false;\n                data.forEach(b => {\n                    if (a.formData == b) {\n                        a.dayActive = true;\n                    }\n                });\n            });\n            this.calendar = calendar;\n            this.$forceUpdate();\n        },\n        /**\n     * @description 单个日期是否高亮\n     * @param {Array} calendar 日历数组\n     * @param {String} day 选择的日期\n     * @param {Boolen} isInit 初始化触发change时间参数\n     */\n        currentDayFun(calendar, day, isInit = false) {\n            let that = this;\n            calendar.forEach(item => {\n                item.dayActive = false;\n                // console.log(this.$dayjs);\n                if (this.$dayjs(item.formData).isSame(this.$dayjs(Date.now()).format('YYYY-MM-DD'))) {\n                    item.dayActive = true;\n                    if (this.mode == 'date') {\n                        that.$emit('change', { day: item.day, time: item.formData, week: item.week, year: item.year, month: item.month, allDays: item.allDays, isInit: isInit });\n                    }\n                }\n                let temp = this.resList.find(e => e.date === this.$dayjs(item.formData).format('YYYY-MM-DD'));\n                if (temp) {\n                    item.minute = temp.minute;\n                    item.isTraining = true;\n                    console.log(temp, 13123123222);\n                }\n            });\n            this.calendar = calendar;\n            this.$forceUpdate();\n        },\n        /**\n     * @description 日期范围选择\n     */\n        rangeDayFun(calendar, isInit = false) {\n            // 判断 start  end  和中间的时间\n            calendar.forEach(val => {\n                val.start = false;\n                val.end = false;\n                val.active = false;\n                val.dayActive = false;\n\n                // 开始时间\n                if (new Date(val.formData).getTime() == new Date(this.start).getTime()) {\n                    val.start = true;\n                }\n                // 结束时间\n                if (new Date(val.formData).getTime() == new Date(this.end).getTime()) {\n                    val.end = true;\n                }\n                // 当开始结束时间选择完毕   开始时间大于结束时间时进行翻转\n                if (this.start && this.end && new Date(this.start).getTime() > new Date(this.end).getTime()) {\n                    let start = this.start;\n                    this.start = this.end;\n                    this.end = start;\n                }\n                // 开始结束中间时间段\n                if (new Date(val.formData).getTime() > new Date(this.start).getTime() && new Date(val.formData).getTime() < new Date(this.end).getTime()) {\n                    val.active = true;\n                }\n            });\n\n            if (this.start && this.end && this.isEmit) {\n                let startItem = JSON.parse(uni.getStorageSync('startItem'));\n                let endItem = JSON.parse(uni.getStorageSync('endItem'));\n                this.$emit('change', {\n                    start: this.start,\n                    startYear: startItem.year,\n                    startWeek: startItem.week,\n                    startMonth: startItem.month,\n                    startDay: startItem.day,\n                    end: this.end,\n                    endYear: endItem.year,\n                    endWeek: endItem.week,\n                    endMonth: endItem.month,\n                    endDay: endItem.day,\n                    isInit: isInit\n                });\n                this.isEmit = false;\n            }\n            this.calendar = calendar;\n            this.$forceUpdate();\n        },\n        /**\n     * @description 点击日期\n     * @param {Object} item 入参 所点击日期信息\n     */\n        changeCalendar(item, index) {\n            // 签到模式纯展示模式\n            if (this.mode == 'signin') return;\n            // 未来日期 上下月日期不可选择\n            if (item.isFuture || item.isNot) return;\n            if (this.mode == 'date') {\n                if (this.currentDay == item.formData) return;\n                // 选择日期记录\n                this.currentDay = item.formData;\n                this.currentDayFun(this.calendar, item.formData);\n            }\n            if (this.mode == 'range') {\n                // 当已经选择了开始结束时间时  再次点击时先清空之前的时间\n                if (this.start && this.end) {\n                    this.start = '';\n                    this.end = '';\n                    this.isEmit = true;\n                    uni.removeStorageSync('startItem');\n                    uni.removeStorageSync('endItem');\n                }\n                // 默认先赋值开始时间\n                if (!this.start && !this.end) {\n                    this.start = item.formData;\n                    uni.setStorageSync('startItem', JSON.stringify(item));\n                } else if (this.start && !this.end) {\n                    // 当第二次选择时间和第一次相同时  不再触发赋值\n                    if (this.start == item.formData) return;\n                    this.end = item.formData;\n                    uni.setStorageSync('endItem', JSON.stringify(item));\n                }\n\n                this.rangeDayFun(this.calendar);\n            }\n        },\n        /**\n     * @description 上年今月\n     */\n        prevYear() {\n            let currentDate = this.currentDate;\n            currentDate = [currentDate[0] - 1, currentDate[1]];\n            this.currentDate = currentDate;\n            this.calendar = this.getCalendar(currentDate[0], this.date);\n        },\n        /**\n     * @description 下年今月\n     */\n        nextYear() {\n            let currentDate = this.currentDate;\n            currentDate = [Number(currentDate[0]) + 1, Number(currentDate[1])];\n            this.currentDate = currentDate;\n            this.calendar = this.getCalendar(currentDate[0], this.date);\n        },\n        /**\n     * @description 上月\n     */\n        prevMonth() {\n            let currentDate = this.currentDate;\n            if (currentDate[1] - 1 == 0) {\n                currentDate = [currentDate[0] - 1, 12];\n            } else {\n                currentDate = [currentDate[0], currentDate[1] - 1];\n            }\n            this.currentDate = currentDate;\n            this.calendar = this.getCalendar(currentDate[0], this.date);\n        },\n        /**\n     * @description 下月\n     */\n        nextMonth() {\n            let currentDate = this.currentDate;\n            if (currentDate[1] == 12) {\n                currentDate = [Number(currentDate[0]) + 1, 1];\n            } else {\n                currentDate = [Number(currentDate[0]), Number(currentDate[1]) + 1];\n            }\n            this.currentDate = currentDate;\n            this.calendar = this.getCalendar(currentDate[0], this.date);\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\ndiv,span{\n    font-size: 26rpx !important;\n}\n// @import './css/iconfont.css';\n.own_fu_title{\n}\n.fixed_box{\n    color: #333333 !important;\n    font-size: 20rpx !important;\n    position: absolute;\n    bottom: 0rpx;\n    left: 50%;\n    transform: translate(-50%,0);\n    width: 100%;\n    word-break: break-all;\n}\n.fu-flex {\n  display: flex;\n}\n.fu-justify-center {\n  justify-content: center;\n}\n.fu-justify-between {\n  justify-content: space-between;\n}\n.fu-align-center {\n  align-items: center;\n}\n.fu-text-32 {\n  font-size: 32rpx;\n}\n.fu-text-333 {\n  color: #333333;\n}\n.fu-text-center {\n  text-align: center;\n}\n.fu-margin {\n  margin: 10rpx 0;\n}\n.fu-height-72 {\n  height: 72rpx;\n  line-height: 72rpx;\n}\n.fu-flex-wrap {\n  flex-wrap: wrap;\n}\n// 日历选择 start\n.fu-calendar-data {\n    box-shadow: 0px -5px 10px -5px #f5f5f5;\n  .fu-title{\n    padding: 0 10rpx;\n    font-size: 28rpx;\n  }\n  .fu-arrow {\n    height: 100%;\n    // padding: 0 10rpx;\n    text{\n      font-size: 36rpx;\n    }\n    &.fu-left{\n      transform: rotate(180deg);\n      padding-left: 10rpx;\n    }\n    &.fu-right{\n      padding-left: 10rpx;\n    }\n    &.single {\n      text{\n        font-size: 32rpx;\n      }\n    }\n\n  }\n}\n// 日历选择 end\n// 星期 start\n.fu-week {\n    box-shadow:0 12px 10px -5px #f5f5f5;\n  .fu-week-item {\n    width: calc(100% / 7);\n    font-size: 28rpx;\n  }\n}\n// 星期 end\n// 日历 start\n.fu-calendar {\n    font-size: 28rpx;\n  .fu-calendar-item {\n    width: calc(100% / 7);\n    padding-bottom: calc(100% / 7);\n    position: relative;\n    height: calc(100% / 7);\n    border-radius: 100%;\n\n    .fu-calendar-num {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      &.start {\n        border-radius: 16rpx 0 0 16rpx;\n      }\n      &.end {\n        border-radius: 0 16rpx 16rpx 0;\n      }\n      .fu-calendar-text {\n        position: absolute;\n        bottom: 4rpx;\n        left: 0;\n        width: 100%;\n        font-size: 20rpx;\n        color: #ffffff;\n        text-align: center;\n      }\n      &.range {\n        position: absolute;\n        width: 100%;\n        height: 90%;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n      &.signin {\n        position: absolute;\n        width: 60%;\n        height: 60%;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        border-radius: 50%;\n      }\n    }\n    &.isNot {\n      color: #eee;\n    }\n    &.isFuture {\n      color: #999;\n    }\n  }\n}\n// 日历 end\n</style>\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendar.vue?vue&type=style&index=0&id=e9e7bf0e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendar.vue?vue&type=style&index=0&id=e9e7bf0e&scoped=true&lang=scss&\""],"sourceRoot":""}