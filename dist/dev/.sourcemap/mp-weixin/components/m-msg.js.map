{"version":3,"sources":["webpack:///./src/components/m-msg.vue?a8e7","webpack:///./src/components/m-msg.vue?1cfe","webpack:///./src/components/m-msg.vue?ee9b","webpack:///./src/components/m-msg.vue?305d","uni-app:///src/components/m-msg.vue","webpack:///./src/components/m-msg.vue?9c7c"],"names":["component","renderjs","options","__file","render","_h","this","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,qYASIA,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MACA,EACA,kBAjBEC,GAqBJD,EAAUE,QAAQC,OAAS,uBACZ,UAAAH,E;;;;2GCvBf,szB;;;;2GCAA,0KACA,IAAII,EAAS,WACX,IACIC,EADMC,KACGC,eADHD,KAEGE,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBP,EAAOQ,eAAgB,G;;;;2DCRvB,oiBAAse,YAAG,G;;;;0IC8Bze,I,EAAA,G,EAAA,uC,iCAEA,CACE,KAAF,QACE,WAAF,CACI,O,kNAEF,KALF,WAMI,MAAJ,CACM,KAAN,GACM,MAAN,GACM,QAAN,GACM,IAAN,GACM,MAAN,IAGE,MAAF,CACI,KAAJ,CACM,KAAN,QACM,SAAN,IAGE,QApBF,WAoBI,IAAJ,OACI,GAAJ,YACA,0BAIQ,OAHA,KAAR,0BAEQ,KAAR,oBAOI,WAAJ,WACM,EAAN,SACA,MAEE,QAAF,CACI,WADJ,SACA,GAEM,KAAN,QACM,KAAN,sBAEI,UANJ,SAMA,GAAM,IAAN,OACA,eACQ,KAAR,iBACA,gBACQ,KAAR,mBACA,eACQ,KAAR,iBAEA,IACA,GACU,KAAV,UACU,MAAV,WACU,QAAV,UAEQ,EAAR,4BACA,YACA,aACY,EAAZ,oBACY,EAAZ,QACY,EAAZ,SACY,EAAZ,QAEU,EAAV,eAEA,YACU,EAAV,gC;;;;2DCnGA,u3BAAk0B,YAAG,G","file":"components/m-msg.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./m-msg.vue?vue&type=template&id=419db176&\"\nvar renderjs\nimport script from \"./m-msg.vue?vue&type=script&lang=js&\"\nexport * from \"./m-msg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./m-msg.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/m-msg.vue\"\nexport default component.exports","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./m-msg.vue?vue&type=template&id=419db176&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./m-msg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./m-msg.vue?vue&type=script&lang=js&\"","<template>\n    <mPopup class=\"m-msg\" :show=\"show\" @closePopup=\"closePopup\" @updateUser=\"updateMsg\" :title=\"'在线留言'\">\n        <div class=\"fk_box\">\n            <div class=\"input_box\">\n                <input v-model=\"name\" placeholder=\"姓名\" type=\"text\">\n            </div>\n            <div class=\"input_box\">\n                <input v-model=\"phone\" placeholder=\"电话\" type=\"text\">\n            </div>\n            <div class=\"input_box text_area\" style=\"margin:0 auto\">\n                <!-- <u-field\n                    label-width=\"0\"\n                    v-model=\"msg\"\n                    :field-style=\"{\n                        width:'420rpx'\n                    }\"\n                    placeholder=\"留言\"\n                    type=\"textarea\"\n                    :maxlength=\"50\"\n                    :clearable=\"false\"\n                    placeholder-style=\"font-size:28rpx\"\n                >\n                </u-field> -->\n                <textarea v-if=\"flag\" maxlength=\"50\" v-model=\"msg\" placeholder-class=\"textarea_p\" placeholder=\"留言\"></textarea>\n                <div style=\"padding-right:20rpx\">{{msg.length || 0}}/50</div>\n            </div>\n        </div>\n    </mPopup>\n</template>\n<script>\nimport api from '@/services/api.public.js';\nimport mPopup from '@/components/m-popup';\nexport default {\n    name: 'm-msg',\n    components: {\n        mPopup\n    },\n    data() {\n        return {\n            name: '',\n            phone: '',\n            content: '',\n            msg: '',\n            flag: false\n        };\n    },\n    props: {\n        show: {\n            type: Boolean,\n            default: false\n        }\n    },\n    created() {\n        if (this.show) {\n            if (!uni.getStorageSync('token')) {\n                this.$toast('您还未登陆，请先登陆');\n                // this.show = false;\n                this.$emit('success', true);\n                return;\n            }\n        }\n        // this.$nextTick(() => {\n        //     this.flag = true;\n        // });\n        setTimeout(() => {\n            this.flag = true;\n        }, 1000);\n    },\n    methods: {\n        closePopup(e) {\n            // console.log(e);\n            this.show = false;\n            this.$emit('closeMsg', true);\n        },\n        updateMsg(e) {\n            if (this.name === '') {\n                this.$toast('姓名不能为空');\n            } else if (this.phone === '') {\n                this.$toast('手机号码不能为空');\n            } else if (this.msg === '') {\n                this.$toast('内容不能为空');\n            }\n            if (e) {\n                let data = {\n                    name: this.name,\n                    phone: this.phone,\n                    content: this.msg\n                };\n                api.addLeaveMsg(data).then(\n                    res => {\n                        if (res.code === 1) {\n                            this.$emit('success', true);\n                            this.name = '';\n                            this.phone = '';\n                            this.msg = '';\n                        }\n                        this.$toast(res.msg);\n                    },\n                    err => {\n                        this.$toast(err.msg || '留言失败，请重试');\n                    }\n                );\n            }\n        }\n    }\n};\n</script>\n<style lang=\"less\">\n.m-msg{\n    width: 100%;\n    .fk_box{\n        background: #ffffff;\n        width: 600rpx;\n        // height: 600rpx;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding-top: 30rpx;\n        margin: 0 auto;\n        .input_box{\n            width: 80%;\n            background: #f3f3f3;\n            border-radius: 40rpx;\n            height: 80rpx;\n            margin: 0 auto;\n            margin-bottom: 30rpx;\n            input{\n                padding-left: 40rpx;\n                width: 100%;\n                height: 100%;\n                font-size: 28rpx!important;\n                color: #5c636a;\n            }\n            /deep/ input{\n                font-size: 28rpx;\n                color: #5c636a;\n            }\n            /deep/ textarea{\n                font-size: 28rpx;\n                color: #5c636a;\n            }\n        }\n        .text_area{\n            height: 240rpx;\n            position: relative;\n            font-size: 28rpx!important;\n            textarea{\n                color: #5c636a;\n                width: 90%;\n                padding: 20rpx 38rpx;\n                font-size: 28rpx!important;\n            }\n            /deep/ .textarea_p{\n                color: #808080!important;\n                font-size: 28rpx!important;\n            }\n            div{\n                position: absolute;\n                bottom: 20rpx;\n                right: 0;\n            }\n        }\n    }\n}\n    /deep/ .icon_box{\n        top: 12% !important;\n    }\n</style>\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./m-msg.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./m-msg.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}