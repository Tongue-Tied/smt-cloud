require('common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/views/information"],{"0a8b":function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return n}));var n={uCellItem:function(){return s.e("node-modules/uview-ui/components/u-cell-item/u-cell-item").then(s.bind(null,"065d"))},uAvatar:function(){return s.e("node-modules/uview-ui/components/u-avatar/u-avatar").then(s.bind(null,"13a2"))},uRadioGroup:function(){return Promise.all([s.e("common/vendor"),s.e("node-modules/uview-ui/components/u-radio-group/u-radio-group")]).then(s.bind(null,"bb8e"))},uRadio:function(){return s.e("node-modules/uview-ui/components/u-radio/u-radio").then(s.bind(null,"1e88"))},uCheckbox:function(){return s.e("node-modules/uview-ui/components/u-checkbox/u-checkbox").then(s.bind(null,"1e79"))},uPicker:function(){return Promise.all([s.e("common/vendor"),s.e("node-modules/uview-ui/components/u-picker/u-picker")]).then(s.bind(null,"665d"))}},i=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"19f1":function(e,t,s){"use strict";var n=s("9945"),i=s.n(n);i.a},"899f":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s("b739"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){Promise.all([s.e("common/vendor"),s.e("components/m-popup")]).then(function(){return resolve(s("f638"))}.bind(null,s)).catch(s.oe)},o={data:function(){return{userInfo:null,show:!1,title:"",userName:"",clickIndex:"",list:[{name:0,text:"保密",checked:!1},{name:2,text:"女",checked:!1},{name:1,text:"男",checked:!1}],grassList:[{name:1,text:"是",checked:!1},{name:2,text:"否",checked:!1}],slsList:[{name:1,text:"有近视",checked:!1},{name:2,text:"有散光",checked:!1},{name:3,text:"有远视",checked:!1},{name:4,text:"有斜视",checked:!1},{name:5,text:"有其他情况",checked:!1}],value:1,isGrass:1,dateShow:!1,defaultTime:"",ageNum:"",slsParmasList:[]}},components:{mPopup:a},onShow:function(){this.userInfo.shArea=this.$state().user.shArea,this.userInfo.shAddress=this.$state().user.shAddress},created:function(){var e=this;this.userInfo=this.$state().user,this.userName=this.userInfo.userNick;var t=/[\u4e00-\u9fa5]/g;this.userInfo.birthday?(this.defaultTime=this.$dayjs(this.userInfo.birthday.replace(t,"")).format("YYYY-MM-DD"),this.ageNum=this.$dayjs(Date.now()).diff(this.defaultTime,"y")):this.defaultTime=this.$dayjs(Date.now()).format("YYYY-MM-DD"),this.value=this.userInfo.sex,this.isGrass=this.userInfo.isGrass,this.userInfo.sls&&(this.slsParmasList=this.userInfo.sls.split(","));for(var s=function(t){var s=e.slsParmasList.find((function(s){return s===e.slsList[t].text}));console.log(s,1111),s&&(e.slsList[t].checked=!0)},n=0;n<this.slsList.length;n++)s(n)},methods:{closePopup:function(e){this.show=!1},cellClick:function(t){switch(t){case 0:e.navigateTo({url:"/pages/index/address/address"});break;case 1:this.title="修改用户名",this.show=!0;break;case 2:this.title="修改性别",this.show=!0;break;case 3:this.dateShow=!0;break;case 4:this.title="是否戴镜",this.show=!0;break;case 5:this.title="弱视情况",this.show=!0;break;default:break}this.clickIndex=t},uploadImg:function(){e.chooseMessageFile({count:1,type:"image",success:function(t){console.log(t.tempFiles),e.uploadFile({url:" https://app.ruoshixunlianbao.com/api/uploadImg",filePath:t.tempFiles[0],name:"file",formData:{},header:{"Content-Type":"multipart/form-data"},success:function(e){console.log(e)},error:function(e){console.log(e)}})}})},radioChange:function(e){console.log(e)},pickerConfirm:function(e){this.defaultTime="".concat(e.year,"-").concat(e.month,"-").concat(e.day),this.ageNum=this.$dayjs(Date.now()).diff(this.defaultTime,"y"),this.userInfo.birthday="".concat(e.year,"年").concat(e.month,"月").concat(e.day,"日")},checkboxChange:function(e){console.log(this.slsParmasList);var t=this.slsParmasList.findIndex((function(t){if(t)return t===e.text}));console.log(t),t<0?(this.slsParmasList.push(e.text),console.log(this.slsParmasList)):this.slsParmasList.splice(t,1)},updateUser:function(e){switch(this.clickIndex){case 1:this.userInfo.userNick=this.userName;break;case 2:this.userInfo.sex=this.value;break;case 4:this.userInfo.isGrass=this.isGrass;break;case 5:this.userInfo.sls=this.slsParmasList.join(","),console.log(this.userInfo.sls),console.log(this.slsParmasList);break;default:break}this.show=!1},save:function(){var t=this;this.$loading.open();var s={userNick:this.userName,isGrass:this.isGrass,sex:this.value,sls:this.userInfo.sls,birthday:this.$dayjs(this.defaultTime).format("YYYY年MM月DD日")};n.default.updateUserInfo(s).then((function(s){1===s.code&&(t.$loading.close(),setTimeout((function(){t.$toast("保存成功")}),100),e.navigateBack({delta:1}))}))}}};t.default=o}).call(this,s("543d")["default"])},9945:function(e,t,s){},"9daf":function(e,t,s){"use strict";s.r(t);var n=s("0a8b"),i=s("9fb7");for(var a in i)["default"].indexOf(a)<0&&function(e){s.d(t,e,(function(){return i[e]}))}(a);s("19f1");var o,u=s("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);t["default"]=r.exports},"9fb7":function(e,t,s){"use strict";s.r(t);var n=s("899f"),i=s.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},f5a0:function(e,t,s){"use strict";(function(e){s("6cdc"),s("921b");n(s("66fd"));var t=n(s("9daf"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])}},[["f5a0","common/runtime","common/vendor"]]]);